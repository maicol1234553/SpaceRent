<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>SpaceRent | Detalle de Propiedad</title>
  <link href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css" rel="stylesheet">
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <style>
    /* Reset y tipografía */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Poppins', sans-serif; background: linear-gradient(135deg, #0f0f0f, #1a1a1a); color: #f1f1f1; min-height: 100vh; display: flex; flex-direction: column; }
    header { background-color: #1c1c1c; padding: 20px 40px; text-align: center; box-shadow: 0 4px 6px rgba(0,0,0,0.5); position: sticky; top: 0; z-index: 10; }
    header h1 { color: #db241b; font-size: 28px; }
    main { flex: 1; padding: 40px 20px; max-width: 800px; margin: 0 auto; width: 100%; }
    .propiedad-detalle { background-color: #2c2c2c; border: 1px solid #444; border-radius: 12px; padding: 30px; box-shadow: 0 4px 10px rgba(0,0,0,0.4); }
    .propiedad-detalle h2 { margin-bottom: 20px; color: #db241b; }
    .propiedad-detalle p { margin-bottom: 15px; line-height: 1.4; }
    .propiedad-detalle img { width: 100%; border-radius: 8px; margin: 20px 0; }
    .btn-comprar { display: inline-block; padding: 12px 24px; background-color: #db241b; color: #fff; text-decoration: none; font-weight: bold; border-radius: 8px; transition: background-color 0.3s ease, transform 0.2s ease; }
    .btn-comprar:hover { background-color: #a81d15; transform: scale(1.05); }
    .btn-regresar { display: inline-block; margin-left: 20px; padding: 12px 24px; background-color: #444; color: #fff; text-decoration: none; border-radius: 8px; transition: background-color 0.3s ease; }
    .btn-regresar:hover { background-color: #666; }
    footer { background-color: #000; color: #fff; padding: 30px 20px; text-align: center; }
    footer p { font-size: 14px; }
  </style>
</head>
<body>
  <header>
    <h1>SpaceRent</h1>
  </header>

  <main>
    <div class="propiedad-detalle" id="detalle-propiedad">
      <!-- Cargado vía JS -->
    </div>
    <div style="margin-top: 20px; text-align: center;">
      <a href="index.html" class="btn-regresar">Regresar</a>
      <a href="#" id="btn-comprar" class="btn-comprar">Comprar</a>
    </div>
  </main>

  <footer>
    <p>&copy; 2025 SpaceRent. Todos los derechos reservados.</p>
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const propiedad = JSON.parse(localStorage.getItem('propiedadDetalle'));
      const detalleDiv = document.getElementById('detalle-propiedad');
      const btnComprar = document.getElementById('btn-comprar');

      if (propiedad) {
        detalleDiv.innerHTML = `
          <h2>${propiedad.titulo}</h2>
          <p><strong>Descripción:</strong> ${propiedad.descripcion}</p>
          <p><strong>Dirección:</strong> ${propiedad.direccion}</p>
          <p><strong>Precio:</strong> $${propiedad.precio}</p>
          <img src="http://localhost:3000${propiedad.imagen_url}" alt="Imagen de la propiedad">
        `;
        // Acción del botón comprar
        btnComprar.addEventListener('click', () => {
          // Aquí puedes redirigir a un checkout o mostrar un formulario de compra
          alert('Iniciar proceso de compra para: ' + propiedad.titulo);
        });
      } else {
        detalleDiv.innerHTML = '<p>No se encontró información de la propiedad.</p>';
        btnComprar.style.display = 'none';
      }
    });
  </script>
</body>
</html>